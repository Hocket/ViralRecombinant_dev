# ViralRecombinant_dev

A toolkit for viral recombinant analysis, including SNP matching, phylogenetic tree construction, and data utilities.

## Folder Structure

```
Data/
  InputFiles/         # Input data files (FASTA, PED, etc.)
  IQTree_out/         # Output files from IQ-TREE runs
  OutputFiles/        # Output files generated by scripts
  requirements/       # Environment and package requirements
Code/
  matching.py         # SNP matching script
  run_matching.py     # Main script to run matching workflow
  SNPMatching.py      # SNP matching functions
  tree_utils.py       # Phylogenetic tree utilities
```

## Requirements

- Python 3.13+
- All Python packages listed in `Data/requirements/requirements.txt`
- [IQ-TREE](http://www.iqtree.org/) (required for phylogenetic analysis)

### Installing IQ-TREE

If you are **not using Conda**, install IQ-TREE separately:

**macOS (Homebrew):**
```
brew install iqtree
```

**Other platforms:**  
Download binaries from the [IQ-TREE website](http://www.iqtree.org/#download) and add to system path.
  <sub>This may require additional troubleshooting, for this reason conda is preferred.</sub>

## Setup

### Using Conda (Recommended)

Create the environment with all dependencies (including IQ-TREE):

```
conda env create -f Data/requirements/environment.yml
conda activate viral_recombinant
```

### Using pip

Create and Activate local environment

```
python -m venv .venv
<span style="color:green"># WINDOWS</span>
.venv\Scripts\activate
<span style="color:green"># Unix / MacOS</span>
source .venv/bin/activate
```

Install Python packages:

```
pip install -r Data/requirements/requirements.txt
```

**Note:** You must install IQ-TREE separately if using pip (see above).

## Usage

1. Place your input files in `Data/InputFiles/`.
2. cd into `Code` directory
2. Run the main workflow script:

```
python run_matching.py ../Data/InputFiles/<ped_file> ../Data/InputFiles/<recombinant_file> ../Data/InputFiles/<fasta_file>
```

3. Output files will be saved in `Data/OutputFiles/` and `Data/IQTree_out/`.

## Scripts Overview

- `matching.py` — SNP matching logic
- `run_matching.py` — Main workflow script
- `SNPMatching.py` — SNP matching functions
- `tree_utils.py` — Utilities for phylogenetic tree analysis

## Citation

If you use this toolkit, please cite appropriately.

## License

[Specify your license here]

## Contact

For questions or issues, please contact [your email or GitHub username].